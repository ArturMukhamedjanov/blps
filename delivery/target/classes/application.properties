# Server Configuration
server.port=24750
server.address=0.0.0.0

# ====== Atomikos JTA Configuration ======
spring.jta.enabled=true
spring.jta.atomikos.properties.service=com.atomikos.icatch.standalone.UserTransactionServiceFactory
spring.jta.atomikos.properties.max-timeout=300000
spring.jta.atomikos.properties.default-jta-timeout=300000
spring.jta.atomikos.properties.log-base-dir=target/transaction-logs
spring.jta.atomikos.properties.enable-logging=true

# ====== First Database (items_db) ======
spring.items-datasource.xa-data-source-class-name=org.postgresql.xa.PGXADataSource
spring.items-datasource.xa-properties.url=jdbc:postgresql://localhost:5432/items_db
spring.items-datasource.xa-properties.user=postgres
spring.items-datasource.xa-properties.password=postgres
spring.items-datasource.unique-resource-name=itemsXADB
spring.items-datasource.min-pool-size=2
spring.items-datasource.max-pool-size=10
spring.items-datasource.test-query=SELECT 1

# ====== Second Database (orders_db) ======
spring.orders-datasource.xa-data-source-class-name=org.postgresql.xa.PGXADataSource
spring.orders-datasource.xa-properties.url=jdbc:postgresql://localhost:5432/orders_db
spring.orders-datasource.xa-properties.user=postgres
spring.orders-datasource.xa-properties.password=postgres
spring.orders-datasource.unique-resource-name=ordersXADB
spring.orders-datasource.min-pool-size=2
spring.orders-datasource.max-pool-size=10
spring.orders-datasource.test-query=SELECT 1

# ====== JPA/Hibernate Settings ======
spring.jpa.properties.hibernate.transaction.jta.platform=com.atomikos.icatch.jta.hibernate5.AtomikosJtaPlatform
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true